**Prettier 2.0.5**
[Playground link](https://prettier.io/playground/#N4Igxg9gdgLgprEAuEAqVAFATnGMCWcWABAEwB0ADOQKzoA6UA2hgDYCGAngOZYQCuUACbFW+KAGsAugAoAFngAOAZyQB6NYpx5CWcvgiaOPPoKFqAxADkALAEluAD24BObkO4AZbloCiAQX5fACF2IX8hAHVgzwBxfwAjAHkAKX9-bmCAVX9PJIc7ABUAdwArf1jlfGC0yOL-MDt-KFiHYMiALwAtYoAOUgBpAAkAYQ7FLMjPCpTFRRHlAGYusDh-ACUARRH+MAARADUB0tYB0hShTjtgob31gEdPAE1-Dolt2KzY4pGAWU9foUYAl-L1-AB2ViLRSOJKOSg0QpdJJJfzKXxDOS+fCo-yLIbFYIYNqsKxZIRQdiLbj4AYZfy+DrcfxJSQufyOGyFbmULB2OzKJJ0mDKODFOz4fx7X78OwSEYANieSXuEH8QysAFtwXtuMUngN+XAAG6-CAAZWCT3WnkUADFYh05F0suDYszYvgUhAOprHArNRhYqwFaQ7b9FntSglChgrCNSmB8DBwf4MCksHJNcqEsp1vEafEsr9wddOANOEIsosMJx8HbuNwoMFFPcBiMuuxisosikEgl7i5zfg9tMABrsdgddgjDC-fCKFK+O17fCxJ6KTV2xQuEbFOQVyISgCMSVKlBGjhoKTkB8cCT3GDA9wO7Hux-NckKkTtQ0Kil8S0DmCfxIisTZImAolggAM38GhuHxSI9iwFxPFYbhfm4QZ6jOGhj0We5SD2fwRgGe5-GPXobEiDFCjsDASOKVgRjtCRIhGe4fGcMB1nYbhjxSUhWEoORFnWdYx16BIHDWOwEigRw7GKbgnmPLpNlKVSrG4A4oHuKA9iEe4MHNMBgibCQbFKIZSHWEYwDHIYFUKTgXGKRxlA6TZuBQzgDmUFxoW4O18GKY98BGdYhhoXo7V6XwYAVakkiyShSFIY9SC1YJ1mCMN8D02JOBoThKgSUgkieTgMGCJJSA6Th-DtXwRiSTUsF8XpySgAZ8o6UonjAN0IF+TgEjHYIOiwdUsCGShWCspIXDARZNjsLoXBsPZWE8TYdz2dgAFoRgODo7S6Ow9mUO1CiSIZfBsMdYhsXohjtYoIEW-AbEoY0nhsTU9gSC7gnufBlH8YIYHSWIsGhhUDwSFxMUc9I7UodIIBgdZuB0zwRk2KGFSSHYx2NTwbDATVOHNOwbF+GwkgOX5SggPcGclfxNSGJp-C6fArBoX50a6XxnihlwhHefB7gSKyrGWB5flhfwbBSc0xwaUojo0-w7EoXmcaeDB0l8bH4Vy-hIjkDasHiBVHHMvNKDsIYwAGYobDtMBzSyBVfhoeW5QVXx1mGfgukUI6snwRn2Q6fnI2UEZFDgTViiyGxSN6DoCLHGBikifh1jtRZj1KAYhFYIZI1LqAwF+OQ7SyFj-FIWJ+F+J5wQGZQUl6Vg5F6A4umPVgugbY89mKdgbFIfXpnwTYnjtY9NU1DpnhGGeBgOLJCnwLInhca6DkcI7z82Kw8tHDzPYGde7FhSh7k2OA7QgUokk4PYbEWLIo1uASEcCkFIXQ+RHTpDBeosR1i+DgI2Rmmp9YDG4EDBm+07CeEcJsGAfxPZQBGL0X4cp8D4E8HYOsAxWAQAVMEBUAwaBjj2PcRQukdZq3lE8YInAYKqiGGqc0TwRiPXNBICSKRXRDGUJ+FIY1PDBBcL8dg6xCj4l+FkTgkRuAKkgJ4LIvVghdGCAAagGHIe29wRYjhsHmI6WBjSTkoNwOeHQBiRCwEkBhmplCRE9vgXS-hiiFFMYUbgCRFjWg6E8WIBx-BPAzlkMcu5uByAgHsBU-hOBgA6MoLAYAoCONIMESgxUhCxE1MECAOk5AjAkDeRY4DlDFBhMoccIw2oG2-v4CA4MrAQBoMEfAQhlADBguwcRmwaDhT2GAIYKQ9EHBGLETw9x+CsF+O2Yo7V34HCOipJIxQjoQAyvDIOq5EHrBZEIME9wRipmSAcdYTwCQ1KyHAXwvhwmKDkE8GCN1YiQUnpsFIgtjLFBSF7CynBGaxGGP4X4ig44SDgKw3o3VNRCF8PcOwsQwD8EcIsNychW7mn-HaI6hQD7xMoBIYoUB+DR3SMeEYnhCiUBsAkXomougCwql0clBKYKamNFAO0N1WAJDkAkSImpBZ2FYMixQCQnjFAVDQFENh+AHF2seSI6wrASCwKUGG-hNjmm4GOTwVhlALXNEIKwvhYgKjRTQQRiw8nBDADAJ4XRFhjhgicdglBehdBsFYGCpjTEuCgPue4y0xx2DgEdfwR1zRZOAdyV5+JD6RFJK2JIihzTOGdUkY0do-abASF0EY3BYhDFWb0eySRWVWEgnYY83B+RDM4EMEC2EuiUASAcYoME4S4jTD0OwcgV6RFiBIJoca4C-IGNMUosw7RPD5MEYohJEEQC6McUihR4mMKaDYJ4WQ7QdGQiIyg61jwSBcRATgH9ihjlXjkLonARgwD2CvCQgT3LyiSDANU-hEabAOHAJINARiECOL4dana5BN0cPNLAMBgi-C6HsO0pROCFBEXsDAvhVJ9scJqAYj0XqlEcKUY6sQ9ixHUgqHIl6jVpC-pEGAVhPm-GCDYQuTxTHGg9uCUoSJSSdygGaOQHR1gIRhpETgx4Djg0WAkPApM8NtnBOsSEjhIiOBcMEcEQwhhZGxPI80NBSLrEoMeCAQw1Vf3wMeWIsQxxyFofwbJdgN1WCGDBTw-6ni-FYDAMuQw5O9BSB7GgEgimlBgsaXI+s7CLHBCU4IWAJAJCJsEGgcA0USGNJ+YIvQMBQH4xIQoX1FCeEWFUep1yimOHIZ4EI8lSg2FWTTZNgRFjZz2DsRQTwdouK8naRwEgn2P1DUIDo8RjRWFMV0Tw5pQqeEiMoY8yH8BgD+FASgpMkgQDgGFEYTwU4pGCJsXoYAWpVagCVygpiyS+BSB0OAngMBz02JsY18jXn+2KHsc0mw5A0Baj5Lo6wYLdG1GOZQUAkibF+GdTYssBjeYlI4UxEgPodFGKRCALcWLrCOr8Le5quhDHcf4LRWRi1igCNPIYkRXZ7ExOLL6YIvl2DHOaUg6DVxmjJM9Yo79ghHWKgKJurA7BgFwRAJI11+QHC5XuiATkRgLzgETfw5pxFUbAL4SIQxBfcHNDAfkkHbSe3BHIFOSQwqGl+L0InY4uiEv7hIVzZk7DmhhC4OQUB4EztxiDGgt3wIggVCGTYNSrXFHEeCU6FZ8ClDyp4rAzxjz3HYK8O0pjFAHHNL4ermpNjhkcDAQixoziy34HAXDMEUjGlUpAOwvh+DFEtx0KwDaR5oqJYEPYTwCaKE7L8ZQDeJBCEULEJIkQEghRsB4xQexjR7EUBgCA1QUipHmi4aIKQ8oKisF0Kwrw7C63NCGdYvQ9wOHiJsfDWyGyRFMWkup+AQw4IPQhAYczqjYT+C4NgwQKuiwlAVgxo9wtMH6NAxonAr+WQWATmP2pQkQTwMkNA9wMqm0QgLgpIiwT2YANABwdocguK8yYAng7KnSfGiw-AsQiwhQ7AxWpABwYAgQrA4sNgWQvQawraCQhIvODCx4aakeGAy8mocgduwQpwwQEgiwjQ1+XuKc9wMALiTwpyp2iwjgWQWUWAVwRMEAMEsOEg9okQQg6wJhN67Al+YAvQO0XQNAColAi4MAvgVgYWMkBuUAHQ5oXkBIMAjgAw6wNgIwWA0shQwWN+00c0moFOISkI-gBesQjK-AOGlApQiwcA8kWANgxQNAIahI+ADGXQcArAqyMqxKlUrAjgUApQmwow3AGAGAmoSQ-A-Wewx47eSQisBwIuPQp2dg4IngpATwNYjgng2KGsTwxoDhLYewlA4YFYlAiw6ohQgIngR+o6x2Qg4QwQjgH0kKx4doSQME88LShQwQmoMA9RcAAOAshQdo+keOmoVgewvg7A+AGAx4LgpQjwygvQQgngHQvQY48MVUcAPQygpQB8rcKhCQ6wWy+4MAcgwQNkzIYAME5olAwQdIzqgB3AAwSQCoVI5oXQEA7Avgmxr07AB8EgMALgvuYRVgcg-kMA60BwlAaKGKyktM+AvQfelA1ySQvJVgv4xoQmR0dgTwcgQgwuBuCoNgUAj2zI-xihdgVg2pn+1KwQVgx4NggivMsITCwQx4LuQwmwnApicAQgdoBMmogaewKQu2pAUALMWQ7AcACQ8GB8HQYApAWQ82ygrAIR9w6+MAT2mwlA-Aa27ALgXxY4KQeMYScgeMcA9w9wWcrm6QygMAsQhWvQ0yWQmwrAYA3AEGT+GkdecgY4UmGAjCjg044IyYyGhZ5IygQguJ+C7MdgKQpi8yMAAk5qt4x4ygGAhQJqRqcAAwXufWKuAQ0o9wD2uJHYHQWyzUSQr+EAwQrEN0LgsIvwWATw-AKQQwnAVMigEOKJYUyGlmMExCMElAEAKQ4IvwEZ-gKQThxorU-4eBZovwlAR0RRZRp8RyGxhc9wHQsa-BWKaIRwribg6WjUKM0OCoQxlEpp+aiwPw-gZSVC9wR00aWAMJWQ9wTwpQJSkQDQiJoaKQTwCooccUpQCYGApQoybgU0iwHYcucASimwwQ6cQlNAusHcCoGA2mFe9ZSQ0wUAyGBw4Imo6w1xNA4IvgIq4IAC5qewHQIEdoCQL0tB8o9aHQ7ZQgxQ6WcgjgBwsQ2wuQPcliHIKEx4Y4XRmY6WxQQwOIEAxQiwkeEgvCTIdoY45wX8+wwQNwuxDazy+wIi84YQxoME-GvQIUmwhQ-W-g6WWsQgTxWEXQjoCy2VwYVoeUwEngv8R0tIbU-gignKNwCoig4yvQDVf8pQ5QdgF26wZ4ROvO8GUVLgai3AWQNAQgxo64vwvwD4YAtMwFAFcgTF1ojMKQNgXQ6QGw+AEoDg-gAwxw9avgZ0Y4CQF4sQIwVWno5G8isQR0HQxFCYWAuC8VrAdex41a5G7YOGdoQg4SewxhLUwJR0pAMEnAb1O8Da80zEGAiwJeocT1XwR0fCjgtYWAhEBwmEfalJHRxQEg32-gNkmwCozGjgTwvgTwaQ11vMEgmEEgtsIQ6w2CR0x4GAlAkoZSXQqmDYgVJE7QrUlkfa1Qd+bs6sIw6MvQBMzIAAlIwAAAbK3KByCMBHRHSKDsBYCigkCaja1L7BVQDq2a1YDiAwAHIjI4nEDHiUCUBK3K2MCMDoB2BQCKD8AwBIAMBQDK2K3635ZCBG0m1HSMAEAvFwBIDECFByBwDEAqEQBgASDEB2CaiKAQBYbEDyFpxiBQBwDB1O1QAWAWBR0x3J2p3p0wDECbBt5t4F3R2x34Dl0Z3rJwBt7EAQzEDsBQCd25gwBYDsA+rECfT5ZEDEAt1t1aBwCiiwDt3d0mhECcDEDmj8C9393wDEBQAQBCBwDkAl0N1N2V3j0N3KDEA4DKBp1QBVAJCsCx0wTp3EBaAJ1T1VBQDcAP2ECrAn1WGz2QDyqv2z131YD60EDQAAA0xAxoRA+AkN4gb9TiYgQgyYi9XdIgjdadWGsDED7ACDAD6dwDBg3d5tEAxAOJsdm929AA5CfaWewPALvfXcQGkaWcQDBGYOwJqAgDANg+-XAKsMQFYYwOIIA-g9ACQ3ILQ2I-veg4fTXbHY-Z-aKCfR3dfQnRIMoLvXYJXR3dg8oMQ2fRfVfTfSw+nYIwfZg5AJfQgMoPwMoA4nUbQy6Yw8-fxFPcQNY2AHIJ3SfaUDYwQDBEdrQwQ1-SQOIKIIEgoMQGAGIJw8oOA-45SGIDAIvY-VYeo3XaXWgxXWPbI5E19DfT6kow3BAH-W-XUenDEyw3wJqJIxvbgMPUnSg24+BmfZI9U6E+wA-RAF9PQ6XWUxw7AMoIwNrbHRwPACQB47w6iiIIA1gwg0g53cIMQIg8oGANrdvagzBJI8gzgBvdjLMyMrvb4Dff0yKGIxI8M-syIBc6Q8bVAJk1ho40QzU+Q3AFQ6IAndwzQ3Q+k1I1k0fe3SfZAIg-444+wKvQPS8YvaE8veC+vQkIvRw13V-Zs6Q4wEwIrSndI9Xa3XAIrSQ-3cmLIAoDACoOoGoNY7CzvdvcaGoFgL44HWAMoGoMaBQNQJBQUjQOS4oAAPoWPT3WNMv3MwDctH1qB92AkwDkCYsV3Ytt7kAKCaisBy3kCMAMM2Ox3f0dPivJid2sC0LdjEBwAD2eN8tWM2OGuv3iCx3gYP18DGgjIN2nNG1uNpxJjYP4C-aoOp3HOcOBOiPf2ot3MH3ZM4vgP7hHaeP62L1cOoqd0zVd1cPcAaubMQCKAEDyrTggPd2pvSOCDJiEDUO7CePsAn2QNm0wP-2agbIECKA32MAqOJ2FMP3a3YM32sBeNbO5McOz2d1gB8DKAn2kO1OFzp0SAqu3MMNCshtt06PEOP32vb3UPFOx3pIQBqMQP4Basx1ouK2eDiASB4vaswBEtKCqAaAUullr1Usmi0v0sJ1MsstUBUAOJUFcu8vQD8s2NqBCsiuyNisEuSt7uSDyswCKty1nOV2rPd0JCx3qtCCh3EN316vBXt2nOP28DP3juMBF171x0ltHZV2yMF0wuXsOO2sQALuuMdPb0TLVuz1HQcNpHmHt3evlOwB+vZsoul0YsH2yu4vEDJbOsluSM7uhBVBgB8eK0nsktnvksr2kd0PUu3ulkMsPusvPsctvumuX1fs-uiuXu7CStidHZ8cgdgc9N50+3GcSeyN4uB2uOb2V2B0LOL1AaLPf2pvpsescfgNr0x0hOV1pxYDCODul1lvQMBNZsLNevSOMClkrrUP5lt6wCbt6ucAaOV2zs92kcFPPPYwEP8ObPhf+OrNRc4mmBpI1PquFcifMCK0wblu6BSfyCntksXviuKc3t0sqf3vMvqfsuvvn3vuWM6eCsH2-s4v-sSvkANcRdEBmdKv4vTcF3NCL3acCsWs0i50Qen11EFv8Pd1DuK3WeSeMO+Mse1tseV1HezcgtYCHsAcWdK23dNcAskOcDIqrNpe7fn0fv4DX23331cPKDrvuPFuAsx2J2wNoviD+ecNLO0PsCyDkDkBqA33a1QBHTtdXtqBwAN5m2X1HbKAWCw9EAxNy3gONNmsE9v04m0Oh2l0NtJ0d1VBNiOPws1PsBzB8BaCbvr3sAe3pJm1JNYeF3F0MPx2J1l3SNR0AcF02wIA1NTv-Md04BhDRvENTsdNM-gM6ta0DuuNDtM89st2lkFc2sdMcM4lb2MDzsOsiAc+BvouS+LoH0PcSvSekvnvycdfXs0vdcwCqd9dPsDectDfrdftM-ctCtTfJjkAu-StYYLfKuqtyAd3He0KJ2J8wDu9692sOuhex0wfiP2v33f1CuYPa+Z-M+wDENDsvNvOZ+fNcPwCMBCCI8JAls70F2shSM+uwCj0BvccJ9u9Lc6t09aMn1wc9vz3Mcke++7Pb1vdO+K0jDROwDNfEte9yeUvkBKcB9B+Ptssvth9gDcu632urBqBROECwDfvCB4-J9htp8eO5PsfiCF+L+vMn2cP4A4D1vV8EeXDTvqKF3oK9u6VfVRm9yFaPNa+NTG-pw116T8426zEhnX1Lr61Qm7fYAV3xq5M9BmsAcRtd1LovMBOm9A1mCwECSsC6OHCXoAOz6Z0Fwe3XOgXVdo1MqgrHZhmkW3rgN8BndHZjAJECIMcAPqVgFCzgFDsEBsAXeoImKCz9wGTDSDh+zNY-9LWudE+sUHwB6tGAudRxjayC7CMUB+baANw2K6RcCuojcQL-Uwb4DwGTKbAdaxjp-9+GDKd5l907qEotBm7cwm3w75d9Ym-DEgAkGxhyB6GxDVtihwj6qCtuhvNPl-TmAV082STJAW91-ppFDuxDYoP3UUDwD1+WjW5l3RCGj0DOg9Cfrq10YXd++pzDPqo2z6K0emHddQQQH-ro9RkaAmpmM2qb0AQAxvIVrbyYE5086IAUXs0ENaOB2Gl3GrjiQ7pZCueyKf+hDB3aH5CQ1fOoZ71k7Y8HGe-Lrne0ZbB9j+mnFZsN0-bKBuWadYoOSz7qGdyAywkftI2T4dtkwhTXOiQBBasA2hVbZhllxg5x1VhB9cdtHW0bIcDWQ7Q-JEDf4nDGACAGIe0Oc5PCXBhDA+nY1GaOMJmjbaLs2wHY1NjeNrevlPXgAiAahWfUfriNLpSDJWuHLWngCICEMT6WXbeukIU6wCd2gQfuncIrqb9Wu3vXfvv12FqcQ+J-clmfyiHcsBe-dS4XSx9TkBWR3BP4fcIVZKtQGonMFqJTlEcj1hbXH3le22H+8+R+wjToN2FHKDRu3LTvjBwlHXDQgMHdkUnwVEU9ouO7OGCgy1o2ic+Go7kUyJ1HKdA+vXI-gaNP7ct4m7rJJty14DOj2AFoqUU6OEAui1Rto0Dkq1F5EjXe0jPFk0MwaNC9mYgeVASPaHQARm89VgBl1SHFN0hxjEgC81C4SMPaXg37Asw8HW8aem3K1hiI6ZBjEmi9VxB4FwDtDjAo9PEWb1fq71P4JAPHhMJvpKioAh+RaGEGxhvNehwbZVMwNjp8sIYTrTZh02O4qjXReLcNq-1mEqBO6StaMcvllG1CSRmQ7ITU1X55D6hNA4up4CNZYBu6Zof-rc3NCz9uGQ-WOusF4ZMDlAFDL-ifQZEfsF+RvQAVOyXGDCkABdI6MQCYAqJGU3DD8dg3dE79PR+-P8WnCZaLAjonDHAFPTUD60kJrALHkayLF2jiAcE1tsQD4EXN4GIyNxhAEYDEBsREExcQMJbEd0fGzDSQXkPVrwTrOmdCAJEDQmbDOu-vLCYRNwn4TSsTLEAUdk1rBUHhcEodpBM4nbcrBrAfgIuxYnCTwRjTPibfxgACSmAd5BIGbREAjBjRArMSVqK2GYSkw2EtQDJNgAESmWvJCySMiOhRCVJSvA+npKglcST6YI8Bjc2IAnitaYUmOodzJH8TbmvtAuugD6IksPaXtVAA7T9oG1A6DKfOil3DqR06BUAhgVnWXF5TsO4vUugwL44-MLufzHJtowgHgtB69TUev80nrT18hhrMtovXn5Xsv+FnOqc3Qakn19Gf3AHuWPI4KNMGyKXhq43L5FMSmuDIBj5wgZQMK2cDd1ogySYYiK+-9BiagygDCMOOs9UkWQy3rf8mmWw3DooJYZsMTm3DWaXwwEZ3MjpeDE6WULUnBt2pfABRq42UbV91GydZAVlzGmE8JpgDUxtI3MY2SbGyIhxiIA4YDsXGhbV-sJx4l+NzBH7QIT2zEBpJIOeQgIe2PmYpMAUovSdt9JyaQA9WvDU5lYOKaYM+mFTGCFU2eZ1NR2GI0sunViHpwe2HTNOt01w5MyBmQzHZiiPGaQ8pmk0g6fM0abLNVm8RR5lxzgDbNzpldA6YcyqFVjMuOzA6fwMcEIAoZFdWAWdK-6N8Pm7bL5t3wnYZNKZOLEscC0IBXNmpkLHtn1LI4c9EWl9KYduzq7Z9TuR7OyTyJ2E9c9hfo0Plp1hljdpGE3NvLH0lb+zZGyfAEaXWq6asx+mXYET-2NYQiVBzY7bvoPz5L94Rzrc+n+PdaetKhV3E6d+KNnDTQ2Q9F-p4086N0PWrjDnsVzrCVtq2C4OtlAD4GhMta-dGme22E6kM1uy7PmX2wgBYi8RI7fLOTNtky9-mWXO3ouyYndtV267e1lu0s7osgOB7DOUHIwkhyfRYc-roKPD5Rzv243UVke3IAHyHhZQqDrRNg6ih4OcApDvq1Q4n10OZ9NJrc1oGl0hJNU98fZPXpryqOSzOALRyiz0dGO6dKFqxwelRdvxxAHjli1s5kChOhfZUeJ0k7HzfeXog-r6IvmHCeWUQm+THP05XCpRJ3JOXaKe5Wd8ONnHFnZ0uwn1HOSzcIVAFc7iARAHnNNq3MzYENfOtDfzqhwfpEAQuNTMwaVwK6NM+hl9eAIeNFAt0UurbdLsDPKHhCXZn-RzhYKK7rSsZsUirp4yHZpzlZO7F7kQE5EydNRwc3UaHP5EHDBuFC6+Xpz-b3ybFegSiffJW68Lc5o3fOY4IkY4BomX9WKbHS3H4KsFnwrRsgvh43djFtijOUwvq4pL7uy-D7gE2+5gzDGgPEgMD1B5FsO2aItztwBh5QA4eM9bAUjxkAo80eT4zHuJLgC498eH-IniT2qVk8Bm9oqnjpybET8GeRfCCdQ0CS50He0bUunMJ55m0yOAvRsUg1F5ALY6LvaXlkwXISt5eMU-ycvJGm7d1e7QrXrROr4pD9eijNiVANCam8yu4Qpxtbw-mQKpltXZ3nGJz5HyWu9ij0UQt5HOL9REcq+SNwFZqAo+Mfe+a6OTmp90+O4jOeR0o6f9i+7AUviQHL5mN-6kAqXk83r4XTzZ7gq2b4JwGgCe+mkxJQP1RXKz0FsKo9jtw7rT9Qms-XqeAvOnFzcFdXNfsZLsXb9WlxCvUeHMvln8L+R2NpeSPv7b1HAT-RuRGzf5cMP+eXShqoIIBvjjedSkATvWIDgDO6py65UowPomz0BK4vISkO0anE9BBqxhoCW7qqrcB39fAQzwkY4ql+gnCgcEI9orLKpay+gcG1KmDDWBUStxmgxvpcCLpvAwGfrKGm5jhBtMsQadPNXkiZBwVeQYwxnlKDgV5raEVaw0FaDWAOg0rCIH0HSK8GRgrNqYOMXyL-WhDRaTYMBl2DFADgyRs4OdZN9R5ngsQNrU4CEqwW-g8BvfWCE4kwhurb+VEJCWhcO6ObRIXc2SGSKO6aQ0RjawPG5DjJs9IZo5wkUlDiB5zVgBUMDVXcT6yYuoQ0M4X4jMGrQwduas6HEBuhC42Lm7Q0lDCRhc9cYaxx9kzDsh8wt+osLq63D3lXKjYcyt5X-L+Vhwo0WmtOHnDIxkrb9eePlEJjwOwneEeIBeEsNCA7wk+vEp0Wvzfh0GiuinKBH6tP+YIoJQKyhFqDrWxDOEU61cFCt4ZuY8pXSMWYXKrlUvU2U0Mcb7qLxi6zhoNKpFjNaRGGkCcoqvaHSWR-ANkT+sIXai-lZ8lxf6KFHHCVBoo0TRGPXXSilNkKu0ZOOd7bjxNXy7lf+qk2H8yFho+TSaLNFtKVNVo1UdhvjFgdKewgR0f3RjFnjiRqYiTQ5NPmGaBRwGwMeIGDGcBQxjm08RBvICRTnNKYnDYwoLrsbUxtTQcR+s4VZjW5uYm1vmNECFjixM60saIxmaViduNYsQHWK7oNihejM0ja2OQ0JN5mXYpNtd2IZ9iilJA49UOOIAjixh44uAJOOnESBZxMAecexJl5BTtuq40ssiy1VbjrRP6qVfuOyF0jjxgW2MdZo+XzqrxR3DlZwzvGAKHxzS4gK+Ms6MAPxZbL8ZSt-FOSp6gE3LQJqZFMbmeHE7Olaxgm3M4JCEruvwGQnkS3NEk2llJJwl4S3JckoiS9uwZkTsGfkmiXRN1lbSmJek8Cdctu3Li3uGMzjbAFMlCSwRH2v3l9tO0-bZJhEhSWACUnFA-JX0gbXep-raTdJ3dfSRiKMmcNTJ5kyycQGsmgb0dxC77S5N+191-tnkyyT5KjlE6l5FdQKaTo7qhTJG3dULdFMV407kdCU5WiAFAYgAW5H7ZAKAG1p8BigAOHAJfWQAgBsGs8TgMoHl09D+6idXAKHgHqwNkAVwjrSAAVE2xkwU9LWqsA-GE8CA9rJJjrsZaG6FdH-IgDAGwD8R9ayACZFupt2lAF8eWAeqihgDmh2Gf2K1sHp0Zh6F8w4V+jfWrrYw4Aie0PQrqHm60dd-tQ2gyiN289YAkQK2nIGQC21KAue-tnAE8Rc8ddHUogJAyN3rJM92AVNobpQAlsjoug9ZkbpwDrI-+bxfuugnYDZ7RQCu0UPKit10sbdL9bgOnv4CZ7J9Nu4AeXqEA4lkApABXdqxzrcBrJG8CfSgCno0Ajd6rLgrmDX0K7jQbeV2tvVgBmQzaabZoEIDtycAb6a+gAL7f6gAA)
```sh
--parser markdown
--print-width 100
```

**Input:**
````markdown
**Prettier 2.0.5**
[Playground link](https://prettier.io/playground/#N4Igxg9gdgLgprEAuEBadAdWBLGAbOJAAgBUALOIgITwjAGsiBJAWwAcIAnGIgBWzZw82KHCzpUWLAGJppCs3ZceARQCucDVKjlK2JdyIBHDRqLYAzkQCGUGwCMLMTtbA8A7l3pxOx05TZOOAsEHhEiOAA3HwBPIgBlNUdna3giKAgAEzgAOnk9Ax4TTT0rIIsOKAtsewIiADMuIkC6YOqoAHNm7DgwYKIIevMoSBYRLpFGzhZU7GgAGiJozmx6mPGl62FM3DjbTPNCjcit7APJrhmYObsRGAgiGAUM7IByKydU3PyiFggnBpqKCZawsUJbbq9SiDLAXaazaCPMipJEFDiGYpmFp9CwhKyWIi1Oj0Cx5JhhKxbCwPcqVaq1ShTWFHTpESBVBAWNQWVBBPBfA5g3HWDr9LlgMg2KwAK2513q2DACKqA184WEHTIPDAwlCFkWCqgpxgcRag1J2l0h3RRX8bIgeAIbnxIwgY1ZQjgYNgVnqnDdqPScBgnk4jH2RCcXH6Ty9wxszQgDryVs93pgFiw1iCRH58F8Et63gOU02212NmBRB2FiVnGy5yGsb2OYyPBO2zyAFECOmrE8UdnKB2zjYc7GoMybXBzrAHrH0lk4O9c3QIZ94DlLQp9Da-CVzFZIDsFTOHE4XG48HFwolki40vY4mDbFZBqisABtAAGrBt6hKb9HhcXAAF0AAotRgNgLCQAB6OCuXvL4cmySI4M4OVMjoCw4MiAAmHIAAZiN5MAAFZELYAB9dkQiqbk4N3ZRqMxOA4JSXAcj-ZQAI0HItRYPAAEotx0BRuWhIZrGA6xcBsR0IHcKw4FcSU6M5bkIk6ERKHuZp-UiM49AzAZ3DsCpemwU4AC8z13XtwWuRF31jKdlH3DRFncMhFUlCA2GuMY7KsJ8lh8VZ1lZFg1Dwa42AILAiQYF1mmzLYCDwKVUTiUY9DsVx-VxQNRBDLwxKwK1mIxO0qQeFojOyD43UoMgkxJJZrI-KAfwAGREeggM4mAIKgmD4MQpILxQtCMKwnC8MIkiiLIyiKlo6B6K5XDqpgVj-A4kCYByfqoHoASYCE4SkRRJU7HsShJMyLB9MaRT3HMUyWg6coLUnKBZB+KhrGqMAiD4sR-rvaa0ga4zKWrOB6msWKwigVAwT+Tgb3YRzYGVAYmwUX9CghoD6Ayczsrcnrv2B0GydGmBoNghCkJh3JZswpxsLAXCCOI0jOAoqiNo5BidsKfaSkQ5w1DcHJ6cVCGLqulMKCwOmQeV-wgOw-o22rB5bDiegRAOd8AqC7AbOVRYHwoNUeEETgphYfsFGWVZFQJiNdqwJw4BgyM4GKHAMpiMkeDq88UmdEqIGcux3y9hUlSTpF-TUTVA0kwnup-AA1CLT04b8mZZib2ZSTcufmvnFsFlbhbWmiNIlpipbYw65OO4uVlL1WRNkrjtAAQSgXLNs0lSdNEG6eD5Ho3zsBctYZ3Xfjla08Z4Nf++9nwhqO9XIe-A-S6AgkTTYH3HTiWlNpqOpSxgEGOvFSUQbZCgGHGL8RCO1CNWVI1gII5ByHBAg2Z0bVwfOxOAAAPZwIhQYWGkIAnwephKLAjJpFYrIBwwBegoZKjACTVA6KIA4YUFzWDYC0QI1k0goyeFwXYFUAZyCtDQYkig9wkCOtoAA6hQVeO5CieVKEQII1hMhxH0rtBMZDFjyTYCDPEgYyHxmKE4G4jxja-GDG1Z6UA4YNkJAojWtNeEMB4twY+vcK7jTZlNGunMohzR5gtAWy1Vqi3bttOCZDqK7R7lxWx9B7HHUEiJMS5ACR01oHYwoji1GGXhlouAyIjJNHfLtDYMltF3HnM8JcK5knrjfvALAII372BBrkbQAB5eeDkvShB8PnNekTolpL3siCkRAnrxiiLEBIbj4GLmyIeAu34ADCupYDl0gszFxk1kK108dzGAvN+ZLSFiLWs1EQicCMn0OCOoeiwCYsCJBQ8cFEB8n5e0+NUEJzeLPa4QQkrJMYHU6wDSQh5FEQgZRfzZm7XsnOQMVzQiqKGXIix+kFwzHCACoFUlCR-MzLAQZHzKAUyUpSewEA1DHW0IDHhELol8AEEIXS2gmDiMoNUXGwQeB-GyIsMhlIcxQoODsIIV4bwwoXHC2AeQAASSkxmcEWH8AEgStIIA6LpKw7hsCOiwKIM8+kXZuxsJkHYScISpx9hnREIhRgbF5YsNQbA6l6QoNgXwSk7CVKyijRBWrrLY1qaAzF+pVSEkTmQFMxt3qvK2iqueMZfJvgYcoIEuwEWzNGH8VeDx3AuDYLCpZaMsxtkdpGOWbgF4KWpDvDpPoiBJOJH09WBJRB6NZNAzI-ZSl6R8CwIgGAQDFMKFgW+ghhCiH7ZwieEREGggSlip4BIc30NvqySwX5vy8CUr01JzjWYbI5qhbZ9d9lN38cc5VFhqIcHcLLTCCtN3uG3TaB52VcAulEL4U8eAO1bwBDHB61A-nRPiQmhStBlKBk3cI6NM8sCqt0gYo2n03xU12ryIQAof5FkpFWdRxUFzaJRc8DlZ560pJtENLtbIC2nzSszHwtxKR4CrdkTNHNZzrrHmoFwT7lArLGnuuBM0j3eIbr4w5a0wBixjZelGLhb3y2OlxnjQHCgPPmOu4GD1eMON3VXSZwn0I7L2Y3PxLdEJSYvdRBpD0FMKy03AHTMTLoiVwcCddABxFwwJ1FOf42swTBmtlGePaZiTFnqKGmNDEaiP19jqLs8dLz8XrBOYeZwsjUTUlBlbRMKwhthBjHgAcfS0BKAEGiHgKO6a3SZoaE0F48aUTkt9XZSsNhyVtQIV0eD88IwySi8IE0RAOhyNFHvB4-IYhdIXC264nQ8gADEmhINnQQDTUBN14HoHIxOK5B17hHQy+edFLCmXfDJLW2nVMUaeb5CUTzc2Uk1slnzqWbt8cQ0uvNa9FnXJgN+ThgNeqqU4HYAAstGbQ8Q5UQlcgoAASlZQQFhXjTP6Kxza7itEQqUUdsdhBtCoCIJ+cHtg1AQhh1sPTrjNkeKM8j4IcEADMqBQhBCZzMKAFO8CoBCFsF9xOMrYuJHy4cpwDjUiwEQHHfC8f0oJ7M2UAJxUFvECTpWYMoM0-3e4w9DOwD0twqz9ncAmdAsVKga9gvAzy9HQh61eA1BNWl3wCA0GIyq-++rz8UqYj2BWAceZ08JY66E8FjCjPjds9gBz3CZB-eB9QBem3C5-Z2G6PbtpVgoOLAnEQV7mR1F57Efm73UAQDzBAFbG4FhkCgGzP6dwvAhxVGQCALY7hrAxDr1XgPrhvAwHiOow3nRkByzgFX2JojcDBBH3AGHVRcDYCMiadvfNe8gFQT4GAvAXAdBmMgZGzHJ8gGlBYRBVBLyD-iKCOAp04BH6pKf8-iD4jjAIOoROj+kDH5CFX9RTgU5dvGYMMbCcySvEAJhWAYRM4J4ZAAARiIiIgAKKjgGEVzXb0CGCB8GiEgJMG-z3wCjrxQBBlQF1QbEgKCBMFdTgD3xFEP1-2fyrxCDGHH0wlP3aA6E-zUG-yfxPyr3qVgMyHgKQHwkEJAjHQ6GDxYEYJAGCHIkgMkhIEBRIL-1P0iA0GZWyFgHiDABWECgnkyHiBNAIH4JCAAF8LCgA)
```sh
--parser markdown
--print-width 100
```

**Input:**
```markdown
---
title: The Block Import Pipeline
---

## The Import Queue

The import queue is an abstract worker queue present in every Substrate node. The import queue is responsible for processing pieces of incoming information, verifying validity and importing valid information into the node's state. The most fundamental piece of
information that the import queue processes is blocks. It is also responsible for
importing consensus-related messages such as justifications or in light clients, finality proofs.

The import queue collects incoming elements from the network and stores them in a pool. The elements
are later checked for validity and discarded if they are not valid. Elements that are valid are then
imported into the node's local state.

The import queue is codified abstractly in Substrate by means of the
[`ImportQueue` trait](https://substrate.dev/rustdocs/v2.0.0-rc5/sp_consensus/import_queue/trait.ImportQueue.html).
The use of a trait allows each consensus engine to provide its own specialized implementation of the
import queue, which may take advantage of optimization opportunities such as verifying multiple
blocks in parallel as they come in across the network.

The import queue also provides some hooks via the
[`Link` trait](https://substrate.dev/rustdocs/v2.0.0-rc5/sp_consensus/import_queue/trait.Link.html) that can be used
to follow its progress.

## The Basic Queue

Substrate provides a default in-memory implementation of the `ImportQueue` known as the
[`BasicQueue`](https://substrate.dev/rustdocs/v2.0.0-rc5/sp_consensus/import_queue/struct.BasicQueue.html). The
`BasicQueue` does not do any kind of optimization, rather it performs the verification and import
steps sequentially. It also abstracts the notion of verification through the use of the
[`Verifier`](https://substrate.dev/rustdocs/v2.0.0-rc5/sp_consensus/import_queue/trait.Verifier.html) trait.

Any consensus engine that relies on the `BasicQueue` must implement the `Verifier` trait. The
`Verifier` is typically responsible for tasks such as checking
[inherent data](../learn-substrate/extrinsics#inherents), and ensuring that
the block is signed by the appropriate authority.

## The Block Import Trait

When the import queue is ready to import a block, it passes the block in question to a method
provided by the
[`BlockImport` trait](https://substrate.dev/rustdocs/v2.0.0-rc5/sp_consensus/block_import/trait.BlockImport.html).
This `BlockImport` trait provides the behavior of importing a block into the node's local state
database.

One implementer of the `BlockImport` trait that is used in every Substrate node is the
[`Client`](https://substrate.dev/rustdocs/v2.0.0-rc5/sc_service/client/index.html), which contains the node's entire
block database. When a block is imported into the client, it is added to the main database of blocks
that the node knows about.

## The Block Import Pipeline

In the simplest mode, blocks are imported directly into the client. However, most consensus engines will
need to perform additional verification on incoming blocks, update their own local auxiliary
databases, or both. To allow consensus engines this opportunity, it is common to wrap the client in
another struct that also implements `BlockImport`. This nesting leads to the term "block import
pipeline".

An example of this wrapping is
[`PowBlockImport`](https://substrate.dev/rustdocs/v2.0.0-rc5/sc_consensus_pow/struct.PowBlockImport.html) as its inner fields must also be BlockImport.
This allows the PoW consensus
engine to do its own import-related checks and pass the block to the nested `BlockImport` to the client. The pattern is also demonstrated in
[`AuraBlockImport`](https://substrate.dev/rustdocs/v2.0.0-rc5/sc_consensus_aura/struct.AuraBlockImport.html),
[`BabeBlockImport`](https://substrate.dev/rustdocs/v2.0.0-rc5/sc_consensus_babe/struct.BabeBlockImport.html), and
[`GrandpaBlockImport`](https://substrate.dev/rustdocs/v2.0.0-rc5/sc_finality_grandpa/struct.GrandpaBlockImport.html).

`BlockImport` nesting is not limited to one level. It is common for nodes that utilize an authoring engine and a finality gadget to layer the nesting. For example,
Polkadot's block import pipeline consists of a `BabeBlockImport` which wraps a
`GrandpaBlockImport` to wrap the `Client`.

## Learn More

Several of the Recipes' nodes demonstrate the block import pipeline:

- [Manual Seal](https://substrate.dev/recipes/3-entrees/manual-seal.html) - all blocks are valid so
  the block import pipeline is just the client
- [Basic PoW](https://substrate.dev/recipes/3-entrees/basic-pow.html) - the import pipeline includes
  PoW and the client
- [Hybrid Consensus](https://substrate.dev/recipes/3-entrees/hybrid-consensus.html) - the import
  pipeline is PoW, then Grandpa, then the client

```

**Output:**
```markdown
---
title: The Block Import Pipeline
---

## The Import Queue

The import queue is an abstract worker queue present in every Substrate node. The import queue is responsible for processing pieces of incoming information, verifying validity and importing valid information into the node's state. The most fundamental piece of
information that the import queue processes is blocks. It is also responsible for
importing consensus-related messages such as justifications or in light clients, finality proofs.

The import queue collects incoming elements from the network and stores them in a pool. The elements
are later checked for validity and discarded if they are not valid. Elements that are valid are then
imported into the node's local state.

The import queue is codified abstractly in Substrate by means of the
[`ImportQueue` trait](https://substrate.dev/rustdocs/v2.0.0-rc5/sp_consensus/import_queue/trait.ImportQueue.html).
The use of a trait allows each consensus engine to provide its own specialized implementation of the
import queue, which optimizes by verifying multiple
blocks in parallel as they come in across the network.

The import queue also provides some hooks via the
[`Link` trait](https://substrate.dev/rustdocs/v2.0.0-rc5/sp_consensus/import_queue/trait.Link.html) that can be used
to follow its progress.

## The Basic Queue

Substrate provides a default in-memory implementation of the `ImportQueue` known as the
[`BasicQueue`](https://substrate.dev/rustdocs/v2.0.0-rc5/sp_consensus/import_queue/struct.BasicQueue.html). The
`BasicQueue` does not do any kind of optimization, rather it performs the verification and import
steps sequentially. It also abstracts the notion of verification through the use of the
[`Verifier`](https://substrate.dev/rustdocs/v2.0.0-rc5/sp_consensus/import_queue/trait.Verifier.html) trait.

Any consensus engine that relies on the `BasicQueue` must implement the `Verifier` trait. The
`Verifier` is typically responsible for tasks such as checking
[inherent data](../learn-substrate/extrinsics#inherents), and ensuring that
the block is signed by the appropriate authority.

## The Block Import Trait

When the import queue is ready to import a block, it passes the block in question to a method
provided by the
[`BlockImport` trait](https://substrate.dev/rustdocs/v2.0.0-rc5/sp_consensus/block_import/trait.BlockImport.html).
This `BlockImport` trait provides the behavior of importing a block into the node's local state
database.

One implementer of the `BlockImport` trait that is used in every Substrate node is the
[`Client`](https://substrate.dev/rustdocs/v2.0.0-rc5/sc_service/client/index.html), which contains the node's entire
block database. When a block is imported into the client, it is added to the main database of blocks
that the node knows about.

## The Block Import Pipeline

In the simplest mode, blocks are imported directly into the client. However, most consensus engines will
need to perform additional verification on incoming blocks, update their own local auxiliary
databases, or both. To allow consensus engines this opportunity, it is common to wrap the client in
another struct that also implements `BlockImport`. This nesting leads to the term "block import
pipeline".

An example of this wrapping is
[`PowBlockImport`](https://substrate.dev/rustdocs/v2.0.0-rc5/sc_consensus_pow/struct.PowBlockImport.html) as its inner fields must also be BlockImport.
This allows the PoW consensus
engine to do its own import-related checks and pass the block to the nested `BlockImport` to the client. The pattern is also demonstrated in
[`AuraBlockImport`](https://substrate.dev/rustdocs/v2.0.0-rc5/sc_consensus_aura/struct.AuraBlockImport.html),
[`BabeBlockImport`](https://substrate.dev/rustdocs/v2.0.0-rc5/sc_consensus_babe/struct.BabeBlockImport.html), and
[`GrandpaBlockImport`](https://substrate.dev/rustdocs/v2.0.0-rc5/sc_finality_grandpa/struct.GrandpaBlockImport.html).

`BlockImport` nesting is not limited to one level. It is common for nodes that utilize an authoring engine and a finality gadget to layer the nesting. For example,
Polkadot's block import pipeline consists of a `BabeBlockImport` which wraps a
`GrandpaBlockImport` to wrap the `Client`.

## Learn More

Several of the Recipes' nodes demonstrate the block import pipeline:

- [Manual Seal](https://substrate.dev/recipes/3-entrees/manual-seal.html) - all blocks are valid so
  the block import pipeline is just the client
- [Basic PoW](https://substrate.dev/recipes/3-entrees/basic-pow.html) - the import pipeline includes
  PoW and the client
- [Hybrid Consensus](https://substrate.dev/recipes/3-entrees/hybrid-consensus.html) - the import
  pipeline is PoW, then Grandpa, then the client

```
````

**Output:**
````markdown
**Prettier 2.0.5**
[Playground link](https://prettier.io/playground/#N4Igxg9gdgLgprEAuEBadAdWBLGAbOJAAgBUALOIgITwjAGsiBJAWwAcIAnGIgBWzZw82KHCzpUWLAGJppCs3ZceARQCucDVKjlK2JdyIBHDRqLYAzkQCGUGwCMLMTtbA8A7l3pxOx05TZOOAsEHhEiOAA3HwBPIgBlNUdna3giKAgAEzgAOnk9Ax4TTT0rIIsOKAtsewIiADMuIkC6YOqoAHNm7DgwYKIIevMoSBYRLpFGzhZU7GgAGiJozmx6mPGl62FM3DjbTPNCjcit7APJrhmYObsRGAgiGAUM7IByKydU3PyiFggnBpqKCZawsUJbbq9SiDLAXaazaCPMipJEFDiGYpmFp9CwhKyWIi1Oj0Cx5JhhKxbCwPcqVaq1ShTWFHTpESBVBAWNQWVBBPBfA5g3HWDr9LlgMg2KwAK2513q2DACKqA184WEHTIPDAwlCFkWCqgpxgcRag1J2l0h3RRX8bIgeAIbnxIwgY1ZQjgYNgVnqnDdqPScBgnk4jH2RCcXH6Ty9wxszQgDryVs93pgFiw1iCRH58F8Et63gOU02212NmBRB2FiVnGy5yGsb2OYyPBO2zyAFECOmrE8UdnKB2zjYc7GoMybXBzrAHrH0lk4O9c3QIZ94DlLQp9Da-CVzFZIDsFTOHE4XG48HFwolki40vY4mDbFZBqisABtAAGrBt6hKb9HhcXAAF0AAotRgNgLCQAB6OCuXvL4cmySI4M4OVMjoCw4MiAAmHIAAZiN5MAAFZELYAB9dkQiqbk4N3ZRqMxOA4JSXAcj-ZQAI0HItRYPAAEotx0BRuWhIZrGA6xcBsR0IHcKw4FcSU6M5bkIk6ERKHuZp-UiM49AzAZ3DsCpemwU4AC8z13XtwWuRF31jKdlH3DRFncMhFUlCA2GuMY7KsJ8lh8VZ1lZFg1Dwa42AILAiQYF1mmzLYCDwKVUTiUY9DsVx-VxQNRBDLwxKwK1mIxO0qQeFojOyD43UoMgkxJJZrI-KAfwAGREeggM4mAIKgmD4MQpILxQtCMKwnC8MIkiiLIyiKlo6B6K5XDqpgVj-A4kCYByfqoHoASYCE4SkRRJU7HsShJMyLB9MaRT3HMUyWg6coLUnKBZB+KhrGqMAiD4sR-rvaa0ga4zKWrOB6msWKwigVAwT+Tgb3YRzYGVAYmwUX9CghoD6Ayczsrcnrv2B0GydGmBoNghCkJh3JZswpxsLAXCCOI0jOAoqiNo5BidsKfaSkQ5w1DcHJ6cVCGLqulMKCwOmQeV-wgOw-o22rB5bDiegRAOd8AqC7AbOVRYHwoNUeEETgphYfsFGWVZFQJiNdqwJw4BgyM4GKHAMpiMkeDq88UmdEqIGcux3y9hUlSTpF-TUTVA0kwnup-AA1CLT04b8mZZib2ZSTcufmvnFsFlbhbWmiNIlpipbYw65OO4uVlL1WRNkrjtAAQSgXLNs0lSdNEG6eD5Ho3zsBctYZ3Xfjla08Z4Nf++9nwhqO9XIe-A-S6AgkTTYH3HTiWlNpqOpSxgEGOvFSUQbZCgGHGL8RCO1CNWVI1gII5ByHBAg2Z0bVwfOxOAAAPZwIhQYWGkIAnwephKLAjJpFYrIBwwBegoZKjACTVA6KIA4YUFzWDYC0QI1k0goyeFwXYFUAZyCtDQYkig9wkCOtoAA6hQVeO5CieVKEQII1hMhxH0rtBMZDFjyTYCDPEgYyHxmKE4G4jxja-GDG1Z6UA4YNkJAojWtNeEMB4twY+vcK7jTZlNGunMohzR5gtAWy1Vqi3bttOCZDqK7R7lxWx9B7HHUEiJMS5ACR01oHYwoji1GGXhlouAyIjJNHfLtDYMltF3HnM8JcK5knrjfvALAII372BBrkbQAB5eeDkvShB8PnNekTolpL3siCkRAnrxiiLEBIbj4GLmyIeAu34ADCupYDl0gszFxk1kK108dzGAvN+ZLSFiLWs1EQicCMn0OCOoeiwCYsCJBQ8cFEB8n5e0+NUEJzeLPa4QQkrJMYHU6wDSQh5FEQgZRfzZm7XsnOQMVzQiqKGXIix+kFwzHCACoFUlCR-MzLAQZHzKAUyUpSewEA1DHW0IDHhELol8AEEIXS2gmDiMoNUXGwQeB-GyIsMhlIcxQoODsIIV4bwwoXHC2AeQAASSkxmcEWH8AEgStIIA6LpKw7hsCOiwKIM8+kXZuxsJkHYScISpx9hnREIhRgbF5YsNQbA6l6QoNgXwSk7CVKyijRBWrrLY1qaAzF+pVSEkTmQFMxt3qvK2iqueMZfJvgYcoIEuwEWzNGH8VeDx3AuDYLCpZaMsxtkdpGOWbgF4KWpDvDpPoiBJOJH09WBJRB6NZNAzI-ZSl6R8CwIgGAQDFMKFgW+ghhCiH7ZwieEREGggSlip4BIc30NvqySwX5vy8CUr01JzjWYbI5qhbZ9d9lN38cc5VFhqIcHcLLTCCtN3uG3TaB52VcAulEL4U8eAO1bwBDHB61A-nRPiQmhStBlKBk3cI6NM8sCqt0gYo2n03xU12ryIQAof5FkpFWdRxUFzaJRc8DlZ560pJtENLtbIC2nzSszHwtxKR4CrdkTNHNZzrrHmoFwT7lArLGnuuBM0j3eIbr4w5a0wBixjZelGLhb3y2OlxnjQHCgPPmOu4GD1eMON3VXSZwn0I7L2Y3PxLdEJSYvdRBpD0FMKy03AHTMTLoiVwcCddABxFwwJ1FOf42swTBmtlGePaZiTFnqKGmNDEaiP19jqLs8dLz8XrBOYeZwsjUTUlBlbRMKwhthBjHgAcfS0BKAEGiHgKO6a3SZoaE0F48aUTkt9XZSsNhyVtQIV0eD88IwySi8IE0RAOhyNFHvB4-IYhdIXC264nQ8gADEmhINnQQDTUBN14HoHIxOK5B17hHQy+edFLCmXfDJLW2nVMUaeb5CUTzc2Uk1slnzqWbt8cQ0uvNa9FnXJgN+ThgNeqqU4HYAAstGbQ8Q5UQlcgoAASlZQQFhXjTP6Kxza7itEQqUUdsdhBtCoCIJ+cHtg1AQhh1sPTrjNkeKM8j4IcEADMqBQhBCZzMKAFO8CoBCFsF9xOMrYuJHy4cpwDjUiwEQHHfC8f0oJ7M2UAJxUFvECTpWYMoM0-3e4w9DOwD0twqz9ncAmdAsVKga9gvAzy9HQh61eA1BNWl3wCA0GIyq-++rz8UqYj2BWAceZ08JY66E8FjCjPjds9gBz3CZB-eB9QBem3C5-Z2G6PbtpVgoOLAnEQV7mR1F57Efm73UAQDzBAFbG4FhkCgGzP6dwvAhxVGQCALY7hrAxDr1XgPrhvAwHiOow3nRkByzgFX2JojcDBBH3AGHVRcDYCMiadvfNe8gFQT4GAvAXAdBmMgZGzHJ8gGlBYRBVBLyD-iKCOAp04BH6pKf8-iD4jjAIOoROj+kDH5CFX9RTgU5dvGYMMbCcySvEAJhWAYRM4J4ZAAARiIiIgAKKjgGEVzXb0CGCB8GiEgJMG-z3wCjrxQBBlQF1QbEgKCBMFdTgD3xFEP1-2fyrxCDGHH0wlP3aA6E-zUG-yfxPyr3qVgMyHgKQHwkEJAjHQ6GDxYEYJAGCHIkgMkhIEBRIL-1P0iA0GZWyFgHiDABWECgnkyHiBNAIH4JCAAF8LCgA)

```sh
--parser markdown
--print-width 100
```

**Input:**

```markdown
---
title: The Block Import Pipeline
---

## The Import Queue

The import queue is an abstract worker queue present in every Substrate node. The import queue is responsible for processing pieces of incoming information, verifying validity and importing valid information into the node's state. The most fundamental piece of
information that the import queue processes is blocks. It is also responsible for
importing consensus-related messages such as justifications or in light clients, finality proofs.

The import queue collects incoming elements from the network and stores them in a pool. The elements
are later checked for validity and discarded if they are not valid. Elements that are valid are then
imported into the node's local state.

The import queue is codified abstractly in Substrate by means of the
[`ImportQueue` trait](https://substrate.dev/rustdocs/v2.0.0-rc5/sp_consensus/import_queue/trait.ImportQueue.html).
The use of a trait allows each consensus engine to provide its own specialized implementation of the
import queue, which may take advantage of optimization opportunities such as verifying multiple
blocks in parallel as they come in across the network.

The import queue also provides some hooks via the
[`Link` trait](https://substrate.dev/rustdocs/v2.0.0-rc5/sp_consensus/import_queue/trait.Link.html) that can be used
to follow its progress.

## The Basic Queue

Substrate provides a default in-memory implementation of the `ImportQueue` known as the
[`BasicQueue`](https://substrate.dev/rustdocs/v2.0.0-rc5/sp_consensus/import_queue/struct.BasicQueue.html). The
`BasicQueue` does not do any kind of optimization, rather it performs the verification and import
steps sequentially. It also abstracts the notion of verification through the use of the
[`Verifier`](https://substrate.dev/rustdocs/v2.0.0-rc5/sp_consensus/import_queue/trait.Verifier.html) trait.

Any consensus engine that relies on the `BasicQueue` must implement the `Verifier` trait. The
`Verifier` is typically responsible for tasks such as checking
[inherent data](../learn-substrate/extrinsics#inherents), and ensuring that
the block is signed by the appropriate authority.

## The Block Import Trait

When the import queue is ready to import a block, it passes the block in question to a method
provided by the
[`BlockImport` trait](https://substrate.dev/rustdocs/v2.0.0-rc5/sp_consensus/block_import/trait.BlockImport.html).
This `BlockImport` trait provides the behavior of importing a block into the node's local state
database.

One implementer of the `BlockImport` trait that is used in every Substrate node is the
[`Client`](https://substrate.dev/rustdocs/v2.0.0-rc5/sc_service/client/index.html), which contains the node's entire
block database. When a block is imported into the client, it is added to the main database of blocks
that the node knows about.

## The Block Import Pipeline

In the simplest mode, blocks are imported directly into the client. However, most consensus engines will
need to perform additional verification on incoming blocks, update their own local auxiliary
databases, or both. To allow consensus engines this opportunity, it is common to wrap the client in
another struct that also implements `BlockImport`. This nesting leads to the term "block import
pipeline".

An example of this wrapping is
[`PowBlockImport`](https://substrate.dev/rustdocs/v2.0.0-rc5/sc_consensus_pow/struct.PowBlockImport.html) as its inner fields must also be BlockImport.
This allows the PoW consensus
engine to do its own import-related checks and pass the block to the nested `BlockImport` to the client. The pattern is also demonstrated in
[`AuraBlockImport`](https://substrate.dev/rustdocs/v2.0.0-rc5/sc_consensus_aura/struct.AuraBlockImport.html),
[`BabeBlockImport`](https://substrate.dev/rustdocs/v2.0.0-rc5/sc_consensus_babe/struct.BabeBlockImport.html), and
[`GrandpaBlockImport`](https://substrate.dev/rustdocs/v2.0.0-rc5/sc_finality_grandpa/struct.GrandpaBlockImport.html).

`BlockImport` nesting is not limited to one level. It is common for nodes that utilize an authoring engine and a finality gadget to layer the nesting. For example,
Polkadot's block import pipeline consists of a `BabeBlockImport` which wraps a
`GrandpaBlockImport` to wrap the `Client`.

## Learn More

Several of the Recipes' nodes demonstrate the block import pipeline:

- [Manual Seal](https://substrate.dev/recipes/3-entrees/manual-seal.html) - all blocks are valid so
  the block import pipeline is just the client
- [Basic PoW](https://substrate.dev/recipes/3-entrees/basic-pow.html) - the import pipeline includes
  PoW and the client
- [Hybrid Consensus](https://substrate.dev/recipes/3-entrees/hybrid-consensus.html) - the import
  pipeline is PoW, then Grandpa, then the client
```

**Output:**

```markdown
---
title: The Block Import Pipeline
---

## The Import Queue

The import queue is an abstract worker queue present in every Substrate node. The import queue is responsible for processing pieces of incoming information, verifying validity and importing valid information into the node's state. The most fundamental piece of
information that the import queue processes is blocks. It is also responsible for
importing consensus-related messages such as justifications or in light clients, finality proofs.

The import queue collects incoming elements from the network and stores them in a pool. The elements
are later checked for validity and discarded if they are not valid. Elements that are valid are then
imported into the node's local state.

The import queue is codified abstractly in Substrate by means of the
[`ImportQueue` trait](https://substrate.dev/rustdocs/v2.0.0-rc5/sp_consensus/import_queue/trait.ImportQueue.html).
The use of a trait allows each consensus engine to provide its own specialized implementation of the
import queue, which optimizes by verifying multiple
blocks in parallel as they come in across the network.

The import queue also provides some hooks via the
[`Link` trait](https://substrate.dev/rustdocs/v2.0.0-rc5/sp_consensus/import_queue/trait.Link.html) that can be used
to follow its progress.

## The Basic Queue

Substrate provides a default in-memory implementation of the `ImportQueue` known as the
[`BasicQueue`](https://substrate.dev/rustdocs/v2.0.0-rc5/sp_consensus/import_queue/struct.BasicQueue.html). The
`BasicQueue` does not do any kind of optimization, rather it performs the verification and import
steps sequentially. It also abstracts the notion of verification through the use of the
[`Verifier`](https://substrate.dev/rustdocs/v2.0.0-rc5/sp_consensus/import_queue/trait.Verifier.html) trait.

Any consensus engine that relies on the `BasicQueue` must implement the `Verifier` trait. The
`Verifier` is typically responsible for tasks such as checking
[inherent data](../learn-substrate/extrinsics#inherents), and ensuring that
the block is signed by the appropriate authority.

## The Block Import Trait

When the import queue is ready to import a block, it passes the block in question to a method
provided by the
[`BlockImport` trait](https://substrate.dev/rustdocs/v2.0.0-rc5/sp_consensus/block_import/trait.BlockImport.html).
This `BlockImport` trait provides the behavior of importing a block into the node's local state
database.

One implementer of the `BlockImport` trait that is used in every Substrate node is the
[`Client`](https://substrate.dev/rustdocs/v2.0.0-rc5/sc_service/client/index.html), which contains the node's entire
block database. When a block is imported into the client, it is added to the main database of blocks
that the node knows about.

## The Block Import Pipeline

In the simplest mode, blocks are imported directly into the client. However, most consensus engines will
need to perform additional verification on incoming blocks, update their own local auxiliary
databases, or both. To allow consensus engines this opportunity, it is common to wrap the client in
another struct that also implements `BlockImport`. This nesting leads to the term "block import
pipeline".

An example of this wrapping is
[`PowBlockImport`](https://substrate.dev/rustdocs/v2.0.0-rc5/sc_consensus_pow/struct.PowBlockImport.html) as its inner fields must also be BlockImport.
This allows the PoW consensus
engine to do its own import-related checks and pass the block to the nested `BlockImport` to the client. The pattern is also demonstrated in
[`AuraBlockImport`](https://substrate.dev/rustdocs/v2.0.0-rc5/sc_consensus_aura/struct.AuraBlockImport.html),
[`BabeBlockImport`](https://substrate.dev/rustdocs/v2.0.0-rc5/sc_consensus_babe/struct.BabeBlockImport.html), and
[`GrandpaBlockImport`](https://substrate.dev/rustdocs/v2.0.0-rc5/sc_finality_grandpa/struct.GrandpaBlockImport.html).

`BlockImport` nesting is not limited to one level. It is common for nodes that utilize an authoring engine and a finality gadget to layer the nesting. For example,
Polkadot's block import pipeline consists of a `BabeBlockImport` which wraps a
`GrandpaBlockImport` to wrap the `Client`.

## Learn More

Several of the Recipes' nodes demonstrate the block import pipeline:

- [Manual Seal](https://substrate.dev/recipes/3-entrees/manual-seal.html) - all blocks are valid so
  the block import pipeline is just the client
- [Basic PoW](https://substrate.dev/recipes/3-entrees/basic-pow.html) - the import pipeline includes
  PoW and the client
- [Hybrid Consensus](https://substrate.dev/recipes/3-entrees/hybrid-consensus.html) - the import
  pipeline is PoW, then Grandpa, then the client
```

````
